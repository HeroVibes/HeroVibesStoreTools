<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Newsletter Card</title>
  <style>
    :root{
      --bg:#191919;
      --card-bg:#1F1F1F;
      --btn-bg:#1F1F1F;
      --hover-bg:#323232;
      --outline:#323232;
      --accent:#87A9FF;
      --text-primary:#D4D4D4;
      --text-secondary:#8C8C8C;
      --radius:8px;
    }
    
    body{
      margin:0;
      padding:0;
      background:var(--bg);
      font-family:sans-serif;
    }
    
    /* ===== NEWSLETTER CARD ===== */
    .newsletter-card{
      position:relative;
      width:100%;
      max-width:800px;
      margin:0 auto;
      padding:24px 16px;
      background:var(--card-bg);
      border:1px solid var(--outline);
      border-radius:var(--radius);
      overflow:hidden;
      display:flex;
      align-items:center;
      gap:20px;
    }
    
    /* ===== EMAIL ICON ===== */
    .email-icon{
      font-size:48px;
      flex-shrink:0;
      user-select:none;
      transition:transform 0.3s ease;
    }
    
    .newsletter-card:hover .email-icon{
      animation:emailBounce 0.6s ease-in-out;
    }
    
    @keyframes emailBounce{
      0%, 100%{ transform:translateY(0); }
      25%{ transform:translateY(-8px); }
      50%{ transform:translateY(0); }
      75%{ transform:translateY(-4px); }
    }
    
    /* ===== CARD CONTENT ===== */
    .card-content{
      position:relative;
      z-index:1;
      flex:1;
    }
    
    .card-title{
      font-size:20px;
      font-weight:bold;
      color:var(--text-primary);
      margin:0 0 8px 0;
    }
    
    .card-description{
      font-size:14px;
      color:var(--text-secondary);
      margin:0 0 16px 0;
      line-height:1.5;
    }
    
    .highlight{
      color:var(--accent);
    }
    
    /* ===== SUBSCRIBE BUTTON ===== */
    .btn{
      position:relative;
      padding:10px 16px;
      border-radius:var(--radius);
      background:var(--btn-bg);
      color:var(--text-primary);
      border:1px solid rgba(255,255,255,0.06);
      cursor:pointer;
      overflow:hidden;
      font-size:14px;
      text-decoration:none;
      display:inline-block;
      font-family:sans-serif;
    }
    
    /* shimmer effect */
    .btn::before{
      content:'';
      position:absolute;
      top:0;
      left:-100%;
      width:75%;
      height:100%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
      transform:skewX(-25deg);
      transition:left .7s ease-in-out;
    }
    
    .btn:hover::before{
      left:125%;
    }
    
    /* accessible focus */
    .btn:focus-visible{
      outline:none;
      box-shadow:0 0 0 3px rgba(135,169,255,0.12);
    }
    
    /* ===== MOBILE OPTIMIZATION ===== */
    @media (max-width: 600px){
      .newsletter-card{
        padding:20px 14px;
        flex-direction:column;
        align-items:flex-start;
        gap:16px;
      }
      
      .email-icon{
        font-size:40px;
        align-self:center;
      }
      
      .card-title{
        font-size:18px;
      }
      
      .card-description{
        font-size:13px;
        margin-bottom:14px;
      }
      
      .btn{
        width:100%;
        text-align:center;
      }
    }
  </style>
</head>
<body>
  <!-- ===== NEWSLETTER CARD ===== -->
  <div class="newsletter-card">
    <div class="email-icon">ðŸ“§</div>
    <div class="card-content">
      <h2 class="card-title">Stay Updated with the HeroVibes Newsletter</h2>
      <p class="card-description">Get the latest gaming, tech and entertainment news, plus access to <span class="highlight">over 3,000 creator resources</span>, exclusive discounts and moreâ€”delivered straight to your inbox every Monday.</p>
      <a href="https://herovibes.substack.com/" class="btn" target="_blank" rel="noopener noreferrer">Subscribe Now</a>
    </div>
  </div>

  <script>
    // ===== FOURTHWALL SCROLLBAR FIX =====
    let lastHeight = 0;
    let resizeTimer;

    /**
     * Sends the current scrollHeight to the parent window if it has changed.
     * This is the *only* function that should send a postMessage.
     */
    function sendHeight() {
      const height = document.body.scrollHeight;
      
      // Only send message if height has *actually* changed
      if (height !== lastHeight) {
        lastHeight = height;
        window.parent.postMessage({ frameHeight: height }, '*');
      }
    }

    /**
     * A debounced version of sendHeight() to be called on content changes.
     * This ensures we don't spam messages during rapid changes.
     */
    function scheduleHeightCheck() {
        // Clear any pending checks
        clearTimeout(resizeTimer);
        // Schedule a new check
        resizeTimer = setTimeout(sendHeight, 150);
    }

    // Send height on initial load (with a slight delay)
    window.addEventListener('load', () => {
        setTimeout(sendHeight, 100);
    });

    // Send height on window resize (debounced)
    window.addEventListener('resize', () => {
        // Use scheduleHeightCheck for built-in debounce
        scheduleHeightCheck();
    });
    
    // ===== END OF SCROLLBAR FIX =====
  </script>
</body>
</html>
