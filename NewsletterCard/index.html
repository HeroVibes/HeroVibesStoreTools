<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Newsletter Card</title>
  <style>
    :root{
      --bg:#191919;
      --card-bg:#1F1F1F;
      --btn-bg:#1F1F1F;
      --hover-bg:#323232;
      --outline:#323232;
      --accent:#87A9FF;
      --text-primary:#D4D4D4;
      --text-secondary:#8C8C8C;
      --radius:8px;
    }
    
    body{
      margin:0;
      padding:0;
      background:var(--bg);
      font-family:sans-serif;
    }
    
    /* ===== NEWSLETTER CARD ===== */
    .newsletter-card{
      position:relative;
      width:100%;
      padding:32px 24px;
      background:var(--card-bg);
      border:1px solid var(--outline);
      border-radius:var(--radius);
      overflow:hidden;
      transition:border-color 0.3s ease;
    }
    
    .newsletter-card:hover{
      border-color:var(--accent);
    }
    
    /* Gradient overlay on hover */
    .newsletter-card::after{
      content:'';
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background:linear-gradient(135deg, rgba(135,169,255,0.05) 0%, transparent 50%);
      opacity:0;
      transition:opacity 0.3s ease;
      pointer-events:none;
    }
    
    .newsletter-card:hover::after{
      opacity:1;
    }
    
    /* ===== CARD HEADER ===== */
    .card-header{
      display:flex;
      align-items:center;
      gap:20px;
      margin-bottom:20px;
    }
    
    /* ===== EMAIL ICON ===== */
    .email-icon{
      font-size:56px;
      flex-shrink:0;
      user-select:none;
      transition:transform 0.3s ease;
      position:relative;
    }
    
    .newsletter-card:hover .email-icon{
      animation:emailBounce 0.6s ease-in-out;
    }
    
    @keyframes emailBounce{
      0%, 100%{ transform:translateY(0) rotate(0deg); }
      25%{ transform:translateY(-10px) rotate(-5deg); }
      50%{ transform:translateY(0) rotate(0deg); }
      75%{ transform:translateY(-5px) rotate(3deg); }
    }
    
    /* Pulse ring around email */
    .email-icon::after{
      content:'';
      position:absolute;
      top:50%;
      left:50%;
      width:80px;
      height:80px;
      border:2px solid var(--accent);
      border-radius:50%;
      transform:translate(-50%, -50%);
      opacity:0;
      animation:pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse{
      0%{ transform:translate(-50%, -50%) scale(0.8); opacity:0; }
      50%{ opacity:0.3; }
      100%{ transform:translate(-50%, -50%) scale(1.3); opacity:0; }
    }
    
    /* ===== HEADER TEXT ===== */
    .header-text{
      flex:1;
    }
    
    .card-title{
      font-size:20px;
      font-weight:bold;
      color:var(--text-primary);
      margin:0 0 4px 0;
    }
    
    .card-subtitle{
      font-size:12px;
      color:var(--accent);
      margin:0;
      text-transform:uppercase;
      letter-spacing:0.5px;
      font-weight:600;
    }
    
    /* ===== CARD DESCRIPTION ===== */
    .card-description{
      font-size:14px;
      color:var(--text-secondary);
      margin:0 0 24px 0;
      line-height:1.6;
    }
    
    .highlight{
      color:var(--accent);
      font-weight:600;
    }
    
    /* ===== FEATURES GRID ===== */
    .features-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:16px;
      margin-bottom:24px;
    }
    
    .feature-item{
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px;
      background:rgba(135,169,255,0.05);
      border-radius:6px;
      border:1px solid rgba(135,169,255,0.1);
      transition:all 0.3s ease;
    }
    
    .newsletter-card:hover .feature-item{
      background:rgba(135,169,255,0.08);
      border-color:rgba(135,169,255,0.2);
      transform:translateY(-2px);
    }
    
    .feature-icon{
      font-size:24px;
      flex-shrink:0;
    }
    
    .feature-text{
      font-size:12px;
      color:var(--text-primary);
      line-height:1.4;
    }
    
    /* ===== STATS BAR ===== */
    .stats-bar{
      display:flex;
      justify-content:space-around;
      gap:16px;
      padding:16px;
      background:rgba(135,169,255,0.03);
      border-radius:6px;
      margin-bottom:24px;
    }
    
    .stat-item{
      text-align:center;
    }
    
    .stat-number{
      font-size:20px;
      font-weight:bold;
      color:var(--accent);
      display:block;
      margin-bottom:4px;
    }
    
    .stat-label{
      font-size:11px;
      color:var(--text-secondary);
      text-transform:uppercase;
      letter-spacing:0.5px;
    }
    
    /* ===== CTA SECTION ===== */
    .cta-section{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    
    .cta-text{
      flex:1;
    }
    
    .cta-headline{
      font-size:14px;
      font-weight:600;
      color:var(--text-primary);
      margin:0 0 4px 0;
    }
    
    .cta-subtext{
      font-size:12px;
      color:var(--text-secondary);
      margin:0;
    }
    
    /* ===== SUBSCRIBE BUTTON ===== */
    .btn{
      position:relative;
      padding:12px 24px;
      border-radius:var(--radius);
      background:var(--accent);
      color:#191919;
      border:none;
      cursor:pointer;
      overflow:hidden;
      font-size:14px;
      font-weight:600;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-family:sans-serif;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
      flex-shrink:0;
    }
    
    .btn:hover{
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(135,169,255,0.3);
    }
    
    .btn:active{
      transform:translateY(0);
    }
    
    /* shimmer effect */
    .btn::before{
      content:'';
      position:absolute;
      top:0;
      left:-100%;
      width:75%;
      height:100%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transform:skewX(-25deg);
      transition:left .7s ease-in-out;
    }
    
    .btn:hover::before{
      left:125%;
    }
    
    /* accessible focus */
    .btn:focus-visible{
      outline:none;
      box-shadow:0 0 0 3px rgba(135,169,255,0.3);
    }
    
    /* ===== BADGE ===== */
    .badge{
      display:inline-block;
      padding:4px 10px;
      background:rgba(135,169,255,0.15);
      color:var(--accent);
      font-size:11px;
      font-weight:600;
      border-radius:12px;
      text-transform:uppercase;
      letter-spacing:0.5px;
      margin-bottom:16px;
    }
    
    /* ===== MOBILE OPTIMIZATION ===== */
    @media (max-width: 768px){
      .newsletter-card{
        padding:24px 16px;
      }
      
      .card-header{
        flex-direction:column;
        text-align:center;
        margin-bottom:16px;
      }
      
      .email-icon{
        font-size:48px;
      }
      
      .card-title{
        font-size:18px;
      }
      
      .features-grid{
        grid-template-columns:1fr;
        gap:12px;
        margin-bottom:20px;
      }
      
      .stats-bar{
        flex-direction:column;
        gap:12px;
      }
      
      .stat-item{
        display:flex;
        justify-content:space-between;
        align-items:center;
        width:100%;
      }
      
      .stat-number{
        margin-bottom:0;
      }
      
      .cta-section{
        flex-direction:column;
        text-align:center;
      }
      
      .btn{
        width:100%;
        justify-content:center;
      }
    }
  </style>
</head>
<body>
  <!-- ===== NEWSLETTER CARD ===== -->
  <div class="newsletter-card">
    <div class="badge">âœ¨ Free Weekly Newsletter</div>
    
    <div class="card-header">
      <div class="email-icon">ðŸ“§</div>
      <div class="header-text">
        <h2 class="card-title">Stay Updated with the HeroVibes Newsletter</h2>
        <p class="card-subtitle">Every Monday â€¢ 100% Free â€¢ No Spam</p>
      </div>
    </div>
    
    <p class="card-description">Get the latest gaming, tech and entertainment news, plus access to <span class="highlight">over 3,000 creator resources</span>, exclusive discounts, tutorials, and insider tipsâ€”delivered straight to your inbox every Monday morning.</p>
    
    <div class="features-grid">
      <div class="feature-item">
        <span class="feature-icon">ðŸŽ®</span>
        <span class="feature-text">Gaming & Tech News</span>
      </div>
      <div class="feature-item">
        <span class="feature-icon">ðŸŽ¬</span>
        <span class="feature-text">Content Creation Tips</span>
      </div>
      <div class="feature-item">
        <span class="feature-icon">ðŸ“¦</span>
        <span class="feature-text">3,000+ Free Resources</span>
      </div>
      <div class="feature-item">
        <span class="feature-icon">ðŸ’°</span>
        <span class="feature-text">Exclusive Discounts</span>
      </div>
    </div>
    
    <div class="stats-bar">
      <div class="stat-item">
        <span class="stat-number">10k+</span>
        <span class="stat-label">Subscribers</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">100%</span>
        <span class="stat-label">Free</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">Weekly</span>
        <span class="stat-label">Updates</span>
      </div>
    </div>
    
    <div class="cta-section">
      <div class="cta-text">
        <p class="cta-headline">Join thousands of creators today</p>
        <p class="cta-subtext">Unsubscribe anytime â€¢ No credit card required</p>
      </div>
      <a href="https://herovibes.substack.com/" class="btn" target="_blank" rel="noopener noreferrer">
        Subscribe Now
        <span>â†’</span>
      </a>
    </div>
  </div>

  <script>
    // ===== FOURTHWALL SCROLLBAR FIX =====
    let lastHeight = 0;
    let resizeTimer;

    /**
     * Sends the current scrollHeight to the parent window if it has changed.
     * This is the *only* function that should send a postMessage.
     */
    function sendHeight() {
      const height = document.body.scrollHeight;
      
      // Only send message if height has *actually* changed
      if (height !== lastHeight) {
        lastHeight = height;
        window.parent.postMessage({ frameHeight: height }, '*');
      }
    }

    /**
     * A debounced version of sendHeight() to be called on content changes.
     * This ensures we don't spam messages during rapid changes.
     */
    function scheduleHeightCheck() {
        // Clear any pending checks
        clearTimeout(resizeTimer);
        // Schedule a new check
        resizeTimer = setTimeout(sendHeight, 150);
    }

    // Send height on initial load (with a slight delay)
    window.addEventListener('load', () => {
        setTimeout(sendHeight, 100);
    });

    // Send height on window resize (debounced)
    window.addEventListener('resize', () => {
        // Use scheduleHeightCheck for built-in debounce
        scheduleHeightCheck();
    });
    
    // ===== END OF SCROLLBAR FIX =====
  </script>
</body>
</html>
