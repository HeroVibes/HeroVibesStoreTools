<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Newsletter Card</title>
  <style>
    :root{
      --bg:#191919;
      --card-bg:#1F1F1F;
      --hover-bg:#323232;
      --outline:#323232;
      --accent:#87A9FF;
      --text-primary:#D4D4D4;
      --text-secondary:#8C8C8C;
      --radius:8px;
    }
    
    body{
      margin:0;
      padding:24px 16px;
      background:var(--bg);
      font-family:sans-serif;
    }
    
    /* ===== NEWSLETTER CARD ===== */
    .newsletter-card{
      position:relative;
      width:100%;
      max-width:800px;
      margin:0 auto;
      padding:24px 16px;
      background:var(--card-bg);
      border:1px solid var(--outline);
      border-radius:var(--radius);
      overflow:hidden;
      cursor:pointer;
      transition:background 0.3s ease;
      text-decoration:none;
      display:block;
    }
    
    .newsletter-card:hover{
      background:var(--hover-bg);
    }
    
    /* Shimmer effect */
    .newsletter-card::before{
      content:'';
      position:absolute;
      top:0;
      left:-100%;
      width:75%;
      height:100%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
      transform:skewX(-25deg);
      transition:left .7s ease-in-out;
      pointer-events:none;
    }
    
    .newsletter-card:hover::before{
      left:125%;
    }
    
    /* Accessible focus */
    .newsletter-card:focus-visible{
      outline:none;
      box-shadow:0 0 0 3px rgba(135,169,255,0.12);
    }
    
    /* ===== CARD CONTENT ===== */
    .card-content{
      position:relative;
      z-index:1;
    }
    
    .card-title{
      font-size:20px;
      font-weight:bold;
      color:var(--text-primary);
      margin:0 0 8px 0;
    }
    
    .card-description{
      font-size:14px;
      color:var(--text-secondary);
      margin:0 0 12px 0;
      line-height:1.5;
    }
    
    .card-link{
      font-size:12px;
      color:var(--accent);
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    
    .card-link::after{
      content:'→';
      font-size:14px;
      transition:transform 0.3s ease;
    }
    
    .newsletter-card:hover .card-link::after{
      transform:translateX(4px);
    }
    
    /* ===== MOBILE OPTIMIZATION ===== */
    @media (max-width: 600px){
      body{
        padding:16px 12px;
      }
      
      .newsletter-card{
        padding:20px 14px;
      }
      
      .card-title{
        font-size:18px;
      }
      
      .card-description{
        font-size:13px;
      }
    }
  </style>
</head>
<body>
  <!-- ===== NEWSLETTER CARD ===== -->
  <a href="https://herovibes.substack.com/" class="newsletter-card" target="_blank" rel="noopener noreferrer">
    <div class="card-content">
      <h2 class="card-title">Stay Updated with the HeroVibes Newsletter</h2>
      <p class="card-description">Get the latest gaming, tech and entertainment news, plus access to over 3,000 creator resources, exclusive discounts and more—delivered straight to your inbox every Monday.</p>
      <span class="card-link">Subscribe now</span>
    </div>
  </a>

  <script>
    // ===== FOURTHWALL SCROLLBAR FIX =====
    let lastHeight = 0;
    let resizeTimer;

    /**
     * Sends the current scrollHeight to the parent window if it has changed.
     * This is the *only* function that should send a postMessage.
     */
    function sendHeight() {
      const height = document.body.scrollHeight;
      
      // Only send message if height has *actually* changed
      if (height !== lastHeight) {
        lastHeight = height;
        window.parent.postMessage({ frameHeight: height }, '*');
      }
    }

    /**
     * A debounced version of sendHeight() to be called on content changes.
     * This ensures we don't spam messages during rapid changes.
     */
    function scheduleHeightCheck() {
        // Clear any pending checks
        clearTimeout(resizeTimer);
        // Schedule a new check
        resizeTimer = setTimeout(sendHeight, 150);
    }

    // Send height on initial load (with a slight delay)
    window.addEventListener('load', () => {
        setTimeout(sendHeight, 100);
    });

    // Send height on window resize (debounced)
    window.addEventListener('resize', () => {
        // Use scheduleHeightCheck for built-in debounce
        scheduleHeightCheck();
    });
    
    // ===== END OF SCROLLBAR FIX =====
  </script>
</body>
</html>
