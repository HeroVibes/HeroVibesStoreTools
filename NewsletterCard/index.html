<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HeroVibes Newsletter Banner (Extra Large)</title>
  <style>
    /* ========================================
    DESIGN TOKENS (from Design Guide)
    ========================================
    */
    :root {
      /* Backgrounds */
      --bg-primary: #191919;
      --bg-secondary: #1F1F1F;
      
      /* Interaction */
      --hover: #323232;
      --outline: #323232;
      
      /* Accents & Text */
      --accent: #87A9FF;
      --text-primary: #D4D4D4;
      --text-secondary: #8C8C8C;
      
      /* Sizing */
      --radius: 8px;
    }

    /* ========================================
    BASE STYLES
    ========================================
    */
    * {
      box-sizing: border-box;
    }

    body {
      background: var(--bg-primary);
      font-family: system-ui, sans-serif;
      /* IFRAME FIX: Remove padding from body */
      margin: 0;
      padding: 0;
    }

    /* ========================================
    NEWSLETTER BANNER STYLES (EXTRA LARGE)
    ========================================
    */
    #HV-NEWSLETTER-WRAPPER {
      background: var(--bg-secondary);
      border: 1px solid var(--outline);
      border-radius: var(--radius);
      /* Increased padding for a larger feel */
      padding: 60px; 
      /* Increased max-width for a wider feel */
      max-width: 1400px; 
      /* IFRAME FIX: Apply default padding as margin */
      margin: 24px auto; 
      position: relative;
      overflow: hidden;
    }

    #NEWSLETTER-BANNER {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap; /* For mobile stacking */
      gap: 32px; /* Increased gap */
      position: relative;
      z-index: 2; /* Content on top of animations */
    }

    #BANNER-CONTENT {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 24px; /* Increased gap */
      min-width: 250px;
    }

    #BANNER-ICON {
      flex-shrink: 0;
      color: var(--accent);
      width: 56px; /* Made icon larger */
      height: 56px;
    }

    #BANNER-TEXT h3 {
      margin: 0 0 4px 0;
      font-size: 20px; /* Header size from guide */
      font-weight: bold;
      color: var(--text-primary);
    }

    #BANNER-TEXT p {
      margin: 0;
      font-size: 16px; /* Increased text size */
      color: var(--text-secondary);
      line-height: 1.5;
      max-width: 750px; /* Prevents text from getting too long */
    }

    #BANNER-BUTTON-LINK {
      flex-shrink: 0;
    }

    /* ========================================
    FLOATING EMOJI ANIMATION
    ========================================
    */
    #ANIMATION-CONTAINER {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      overflow: hidden;
    }

    .floating-email {
      position: absolute;
      bottom: -40px; /* Start from below the card */
      font-size: 20px;
      color: var(--text-secondary);
      animation: floatUp 12s infinite linear;
      transform: translateY(0);
      opacity: 0;
    }
    
    .floating-email:nth-child(1) {
      left: 10%;
      animation-delay: 0s;
      font-size: 22px;
    }
    .floating-email:nth-child(2) {
      left: 30%;
      animation-delay: 4s;
      font-size: 16px;
    }
    .floating-email:nth-child(3) {
      left: 50%;
      animation-delay: 2s;
    }
    .floating-email:nth-child(4) {
      left: 70%;
      animation-delay: 7s;
      font-size: 18px;
    }
    .floating-email:nth-child(5) {
      left: 90%;
      animation-delay: 5s;
      font-size: 20px;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0);
        opacity: 0;
      }
      20% {
        opacity: 0.4;
      }
      80% {
        opacity: 0.4;
      }
      100% {
        /* Adjusted to ensure it clears the taller card */
        transform: translateY(-400px); 
        opacity: 0;
      }
    }

    /* ========================================
    DEFAULT BUTTON TEMPLATE
    ========================================
    */
    .btn {
      position: relative;
      padding: 10px 16px;
      border-radius: var(--radius); /* 8px radius from guide */
      background: var(--bg-primary); /* Use primary BG for button */
      color: var(--text-primary);
      border: 1px solid var(--outline); /* Use outline color for border */
      cursor: pointer;
      overflow: hidden;
      font-size: 14px; /* Title size from guide */
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      transition: background-color 0.2s ease;
    }

    /* Shimmer effect */
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 75%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: skewX(-25deg);
      transition: left 0.7s ease-in-out;
    }

    .btn:hover {
      background: var(--hover);
    }
    
    .btn:hover::before {
      left: 125%;
    }

    /* Accessible focus */
    .btn:focus-visible {
      outline: none;
      box-shadow: 0 0 0 3px rgba(135, 169, 255, 0.12);
    }

    /* ========================================
    MOBILE OPTIMISATION
    ========================================
    */
    @media (max-width: 680px) {
      #HV-NEWSLETTER-WRAPPER {
        /* Revert to smaller padding on mobile */
        padding: 24px 16px;
        /* Apply default mobile margin */
        margin: 16px;
      }

      #NEWSLETTER-BANNER {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }

      #BANNER-CONTENT {
        flex-direction: column;
        gap: 12px;
      }
      
      #BANNER-ICON {
        width: 40px;
        height: 40px;
      }
      
      #BANNER-TEXT p {
        font-size: 12px; /* Revert to smaller text */
      }

      #BANNER-BUTTON-LINK {
        width: 100%;
      }

      .btn {
        width: 100%;
      }
      
      /* Hide animation on mobile */
      #ANIMATION-CONTAINER {
        display: none;
      }
    }
  </style>
</head>
<body>

  <div id="HV-NEWSLETTER-WRAPPER">
    
    <div id="ANIMATION-CONTAINER">
      <span class="floating-email">✉️</span>
      <span class="floating-email">✉️</span>
      <span class="floating-email">✉️</span>
      <span class="floating-email">✉️</span>
      <span class="floating-email">✉️</span>
    </div>
    
    <div id="NEWSLETTER-BANNER">
      <div id="BANNER-CONTENT">
        <div id="BANNER-ICON">
          <svg xmlns="http://www.w.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z" />
            <path d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z" />
          </svg>
        </div>
        <div id="BANNER-TEXT">
          <h3>Subscribe to the Newsletter</h3>
          <p>Get 3,000+ free assets, weekly news (gaming, tech & entertainment), Amazon deals, giveaways & more. Delivered free every Monday!</p>
        </div>
      </div>
      <div id="BANNER-BUTTON-LINK">
        <a href="https://herovibes.substack.com/" 
           class="btn" 
           target="_blank" 
           rel="noopener noreferrer">
           Subscribe For Free →
        </a>
      </div>
    </div>
  </div>

  <script>
    /* ========================================
    FOURTHWALL SCROLLBAR FIX
    ========================================
    */
    let lastHeight = 0;
    let resizeTimer;

    /**
     * Sends the current scrollHeight to the parent window if it has changed.
     * This is the *only* function that should send a postMessage.
     */
    function sendHeight() {
      const height = document.body.scrollHeight;
      // Only send message if height has *actually* changed
      if (height !== lastHeight) {
        lastHeight = height;
        window.parent.postMessage({ frameHeight: height }, '*');
      }
    }

    /**
     * A debounced version of sendHeight() to be called on content changes.
     * This ensures we don't spam messages during rapid changes.
     */
    function scheduleHeightCheck() {
      // Clear any pending checks
      clearTimeout(resizeTimer);
      // Schedule a new check
      resizeTimer = setTimeout(sendHeight, 150);
    }

    // Send height on initial load (with a slight delay)
    // This fixes the "Content Cut-Off" race condition. [cite: 66, 84]
    window.addEventListener('load', () => {
      setTimeout(sendHeight, 100);
    });

    // Send height on window resize (debounced)
    window.addEventListener('resize', () => {
      // Use scheduleHeightCheck for built-in debounce
      scheduleHeightCheck();
    });
    
    // ===== END OF SCROLLBAR FIX =====
  </script>
</body>
</html>
